@let _shopItem = shopItem();
<a
  class="group w-full flex flex-col gap-2 p-(--content-padding) rounded-xl bg-(--color-secondary) hover:bg-(--color-tertiary) transition-colors duration-500"
  [href]="_shopItem.url"
  target="_blank"
  (mouseenter)="playForward()"
  (mouseleave)="playReverse()"
>
  <div
    class="w-full aspect-square overflow-hidden rounded-sm group-hover:rounded-md group-hover:scale-103 transition-all duration-500 bg-(--color-primary)/50"
  >
    <img
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
      [src]="_shopItem.thumbnail"
      (error)="onImageError($event, _shopItem)"
    />
  </div>

  <div class="flex flex-col justify-end h-full">
    <span
      class="text-2xl font-semibold line-clamp-1 text-(--color-tertiary) group-hover:text-(--color-primary) transition-colors duration-500"
    >
      {{ _shopItem.name }}
    </span>

    <div class="relative flex justify-between items-center">
      @let _artistName = artistName(); @if (_artistName) {
      <tooltip text="Artist" position="bottom">
        <a
          class="text-sm font-medium line-clamp-1 text-(--color-primary) opacity-80 hover:opacity-100 transition-opacity"
          routerLink="/artists"
          [fragment]="_shopItem.artistId"
          target="_top"
        >
          @{{ _artistName }}
        </a>
      </tooltip>
      } @else {
      <span
        class="text-sm font-medium line-clamp-1 text-(--color-primary) opacity-80"
      >
        Unknown artist
      </span>
      } @if (!isMobile) {
      <ng-lottie
        class="absolute right-0 bottom-0 w-10 aspect-square"
        [options]="lottieBagOptions"
        (animationCreated)="onCreated($event)"
      ></ng-lottie>
      } @else {
      <img
        class="absolute right-0 bottom-0 w-10 aspect-square"
        src="/lottie/bag.png"
      />
      }
    </div>
  </div>
</a>
